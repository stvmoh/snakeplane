<!DOCTYPE html>
<html style="padding:20px">

<head>
	<meta charset="utf-8">
	<title>Python - Drews Test</title>

	<!-- Includes the GUI library, which gives you access to the interface elements used in Designer -->
	<script type="text/javascript">
		document.write('<link rel="import" href="' + window.Alteryx.LibDir + '2/lib/includes.html">');
	</script>

</head>

<style>
	.configItem {
			margin-bottom: 14px;
		}
</style>

<body>
	<h2>ONESOURCE Income Tax POC</h2>

	<div class="configItem">
		<label for="accessToken">XMSG("Access Token")</label>
        <ayx aria-label='accessToken-textbox' data-ui-props='{type:"TextBox", widgetId:"accessToken"}' data-item-props='{dataName:"accessToken", dataType:"SimpleString"}'>
		</ayx>

		<label for="binderId">XMSG("Binder ID")</label>
        <ayx aria-label='binderId-textbox' data-ui-props='{type:"TextBox", widgetId:"binderId"}' data-item-props='{dataName:"binderId", dataType:"SimpleString"}'>
		</ayx>

		<label for="apiFamily">XMSG("API Family")</label>
        <ayx aria-label="apiFamily-dropdown" data-ui-props='{type:"DropDown", widgetId:"apiFamily"}' data-item-props='{dataName:"apiFamily", dataType:"StringSelector"}'>
		</ayx>
	</div>

	<script type="text/javascript">
		Alteryx.Gui.BeforeLoad = function (manager, AlteryxDataItems, json) {
			var alphaFloatSelector = new AlteryxDataItems.ConstrainedFloat('Value')

			const apiFamily = manager.getDataItem('apiFamily');
			apiFamily.setOptionList([
				{ label: 'XMSG("Income Tax")', value: 'incomeTax' }
			])

			apiFamily.setValue('incomeTax');
			alphaFloatSelector.setMin(0)
			alphaFloatSelector.setMax(1)
			alphaFloatSelector.setStep(0.01)

			// Add and bind the data items to the selector widgets
			manager.addDataItem(alphaFloatSelector)
			manager.bindDataItemToWidget(alphaFloatSelector, 'AppendValNum') // Bind to widget
		}
	</script>

</body>

</html>
